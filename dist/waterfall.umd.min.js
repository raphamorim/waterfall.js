!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.waterfall=n()}(this,function(){"use strict";function t(t){var n=t.sort(p);this.add=function(t){n.push(t),n=n.sort(p),n.pop()},this.min=function(){return n[n.length-1]},this.max=function(){return n[0]}}var n=function(t){return window.getComputedStyle(t)},e=function(t){return t||0},o=function(t,o){return e(parseFloat(n(o)["margin"+t]))},r=function(t){return t.clientWidth},i=function(t){return t.clientHeight},u=function(t){return parseFloat(t)+"px"},f=function(t){return parseFloat(t.style.top)},c=function(t){return parseFloat(t.style.left)},l=function(t){return f(t)+i(t)+o("Bottom",t)},s=function(t){return c(t)+r(t)+o("Right",t)},a=function(t,n,e){t.style.position="absolute",t.style.top=u(n),t.style.left=u(e)},p=function(t,n){return l(n)-l(t)||c(n)-c(t)},d=function(t){a(t,0,o("Left",t))},h=function(t,n){a(n,t.style.top,s(t)+o("Left",n))},y=function(t,n){a(n,l(t)+o("Top",n),c(t))},m=function(t,n){t.style.position="relative",t.style.height=u(l(n)+o("Bottom",n))},g=function(t,n,e){return s(n[e-1])+r(n[e])<=r(t)},v=function(n){"string"==typeof n&&(n=document.querySelector(n));var e=n.children;e.length&&d(e[0]);for(var o=1;o<e.length&&g(n,e,o);o++)h(e[o-1],e[o]);for(var r=[].slice.call(e,0,o),i=new t(r);o<e.length;o++)y(i.min(),e[o]),i.add(e[o]);m(n,i.max())};return v});